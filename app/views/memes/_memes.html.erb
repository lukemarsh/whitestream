<% memes.each do |meme| %>
  <div class="meme">
    <div class="meme-inner">
      <%= image_tag meme.image %>
      <ul class="menu">
        <% if meme.article.length > 0 %>
          <li><%= link_to 'READ', meme %></li>
        <% else %>
          <li><%= link_to 'VIEW', '#', :class => 'lightbox', data: {:image => meme.image, :url => meme_url(meme)} %></li>
        <% end %>
        <li><%= link_to 'REMIX', new_meme_url(:raw_image => meme.raw_image) %></li>
      </ul>
    </div>
    <% if meme.user %>
      <%= link_to meme.user do %><%= meme.user.username %><% end %>
    <% end %>
    <span class="actions">
      <span class="views">
        <span class="glyphicon glyphicon-eye-open"></span> <%= meme.impressionist_count %>
      </span>
      <span class="comments">
        <span class="glyphicon glyphicon-comment"></span> <%= meme.comments.count %>
      </span>
      <span class="like" id="meme_<%= meme.id %>">
        <%= render partial: 'memes/like', locals: {meme: meme} %>
      </span>
    </span>
  </div>
<% end %>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-body">
        <img src="" alt="" width="100%" class="modal-meme">
        <div id="toolbox"></div>
        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5015a9a0733e9218"></script>
        <!-- AddThis Button END -->
      </div>
    </div>
  </div>
</div>